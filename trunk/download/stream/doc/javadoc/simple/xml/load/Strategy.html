<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_04) on Fri Mar 02 15:50:08 PST 2007 -->
<TITLE>
Strategy
</TITLE>

<META NAME="keywords" CONTENT="simple.xml.load.Strategy interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Strategy";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../simple/xml/load/RootException.html" title="class in simple.xml.load"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../simple/xml/load/Type.html" title="interface in simple.xml.load"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?simple/xml/load/Strategy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Strategy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
simple.xml.load</FONT>
<BR>
Interface Strategy</H2>
<HR>
<DL>
<DT><PRE>public interface <B>Strategy</B></DL>
</PRE>

<P>
The <code>Strategy</code> interface represents a strategy that can be 
 used to resolve and load the <code>Class</code> objects that compose 
 a serializable object. A strategy implementation will make use of the
 provided attribute node map to extract details that can be used to
 determine what type of object must be used. 
 <pre>
 
    &lt;xml version="1.0"&gt;
    &lt;example class="some.example.Demo"&gt;
       &lt;integer&gt;2&lt;/integer&gt;
    &lt;/example&gt;
    
 </pre> 
 The above example shows how the default strategy augments elements
 with "class" attributes that describe the type that should be used
 to instantiate a field when an object is deserialized. So looking at
 the above example the root element would be a "some.example.Demo".
 <p>
 Custom <code>Strategy</code> implementations give the persister a
 chance to intercept the class loading and type resolution for XML
 documents. It also opens up the possibility for class versioning.
 To establish contextual information a <code>Map</code> object can be
 used. The map object is a transient object that is created and used
 for the duration of a single operation of the persister.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Niall Gallagher</DD>
<DT><B>See Also:</B><DD><A HREF="../../../simple/xml/load/Persister.html" title="class in simple.xml.load"><CODE>Persister</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../simple/xml/load/Type.html" title="interface in simple.xml.load">Type</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../simple/xml/load/Strategy.html#getElement(java.lang.Class, simple.xml.stream.NodeMap, java.util.Map)">getElement</A></B>(java.lang.Class&nbsp;field,
           <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
           java.util.Map&nbsp;map)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used to resolve and load a class for the given element.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../simple/xml/load/Type.html" title="interface in simple.xml.load">Type</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../simple/xml/load/Strategy.html#getRoot(java.lang.Class, simple.xml.stream.NodeMap, java.util.Map)">getRoot</A></B>(java.lang.Class&nbsp;field,
        <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
        java.util.Map&nbsp;map)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used to resolve and load the root class type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../simple/xml/load/Strategy.html#setElement(java.lang.Class, java.lang.Object, simple.xml.stream.NodeMap, java.util.Map)">setElement</A></B>(java.lang.Class&nbsp;field,
           java.lang.Object&nbsp;value,
           <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
           java.util.Map&nbsp;map)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used to attach attribute values to the given node
 map during the serialization process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../simple/xml/load/Strategy.html#setRoot(java.lang.Class, java.lang.Object, simple.xml.stream.NodeMap, java.util.Map)">setRoot</A></B>(java.lang.Class&nbsp;field,
        java.lang.Object&nbsp;value,
        <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
        java.util.Map&nbsp;map)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used to attach attributes values to the given node
 map during the serialization process.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getRoot(java.lang.Class, simple.xml.stream.NodeMap, java.util.Map)"><!-- --></A><H3>
getRoot</H3>
<PRE>
<A HREF="../../../simple/xml/load/Type.html" title="interface in simple.xml.load">Type</A> <B>getRoot</B>(java.lang.Class&nbsp;field,
             <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
             java.util.Map&nbsp;map)
             throws java.lang.Exception</PRE>
<DL>
<DD>This is used to resolve and load the root class type. To perform
 the resolution this method is given the root node map for the
 XML document. This is separate to the <code>getElement</code>
 because the root element may contain details like the location
 of the byte codes, much like the RMI codebase annotation, or
 the version of the package for example "some.package.v2". This 
 must return null if a type cannot be resolved.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>field</CODE> - this is the type of the root element expected<DD><CODE>node</CODE> - this is the node map used to resolve an override<DD><CODE>map</CODE> - this is used to maintain contextual information
<DT><B>Returns:</B><DD>the type that should be used to create a new instance
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - thrown if the class cannot be resolved</DL>
</DD>
</DL>
<HR>

<A NAME="getElement(java.lang.Class, simple.xml.stream.NodeMap, java.util.Map)"><!-- --></A><H3>
getElement</H3>
<PRE>
<A HREF="../../../simple/xml/load/Type.html" title="interface in simple.xml.load">Type</A> <B>getElement</B>(java.lang.Class&nbsp;field,
                <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
                java.util.Map&nbsp;map)
                throws java.lang.Exception</PRE>
<DL>
<DD>This is used to resolve and load a class for the given element.
 The class should be of the same type or a subclass of the class
 specificed. It can be resolved using the details within the
 provided XML node map, if the details used do not represent any
 serializable values they should be removed so as not to disrupt
 the deserialization process. For example the default strategy
 removes all "class" attributes from the given node map.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>field</CODE> - this is the type of the root element expected<DD><CODE>node</CODE> - this is the node map used to resolve an override<DD><CODE>map</CODE> - this is used to maintain contextual information
<DT><B>Returns:</B><DD>the type that should be used to create a new instance
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - thrown if the class cannot be resolved</DL>
</DD>
</DL>
<HR>

<A NAME="setRoot(java.lang.Class, java.lang.Object, simple.xml.stream.NodeMap, java.util.Map)"><!-- --></A><H3>
setRoot</H3>
<PRE>
void <B>setRoot</B>(java.lang.Class&nbsp;field,
             java.lang.Object&nbsp;value,
             <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
             java.util.Map&nbsp;map)
             throws java.lang.Exception</PRE>
<DL>
<DD>This is used to attach attributes values to the given node
 map during the serialization process. This method allows
 the strategy to augment the XML document so that it can be
 deserialized using a similar strategy. For example the 
 default strategy adds a "class" attribute to the node map.
 The root element is a special element in that it can add
 details regarding the code base location or version to use.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>field</CODE> - this is the declared class for the field used<DD><CODE>value</CODE> - this is the instance variable being serialized<DD><CODE>node</CODE> - this is the node map used to represent the value<DD><CODE>map</CODE> - this is used to maintain contextual information
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - thrown if the details cannot be set</DL>
</DD>
</DL>
<HR>

<A NAME="setElement(java.lang.Class, java.lang.Object, simple.xml.stream.NodeMap, java.util.Map)"><!-- --></A><H3>
setElement</H3>
<PRE>
void <B>setElement</B>(java.lang.Class&nbsp;field,
                java.lang.Object&nbsp;value,
                <A HREF="../../../simple/xml/stream/NodeMap.html" title="interface in simple.xml.stream">NodeMap</A>&nbsp;node,
                java.util.Map&nbsp;map)
                throws java.lang.Exception</PRE>
<DL>
<DD>This is used to attach attribute values to the given node
 map during the serialization process. This method allows
 the strategy to augment the XML document so that it can be
 deserialized using a similar strategy. For example the 
 default strategy adds a "class" attribute to the node map.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>field</CODE> - this is the declared class for the field used<DD><CODE>value</CODE> - this is the instance variable being serialized<DD><CODE>node</CODE> - this is the node map used to represent the value<DD><CODE>map</CODE> - this is used to maintain contextual information
<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE> - thrown if the details cannot be set</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../simple/xml/load/RootException.html" title="class in simple.xml.load"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../simple/xml/load/Type.html" title="interface in simple.xml.load"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?simple/xml/load/Strategy.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Strategy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
