<a name='version'></a><b>Version tolerant serialization</b>
<p>
In order to serialize objects in a version tolerant format a 
<a href="/download/stream/doc/javadoc/org/simpleframework/xml/Version.html">Version</a> annotation can
be introduced to the class. This will allow a later, modified class to be read from XML generated by
the original class. For example take the following code snippet showing an annotated class.
</p>
<pre class="prettyprint">
@Root
@Namespace(prefix="p", reference="http://www.domain.com/person")
public class Person {

  @Attribute
  private String name;

  @Element
  private String height;

  @Element
  private String weight;

  public String getName() {
     return name;
  }
  
  public String getHeight() {
     return height;
  }

  public String getWeight() {
     return weight;
  }
}
</pre>
<p>
The above annotated class schema will generate XML in a format compatible with that class. For example, a serialization of the class could result in the following XML snippet. This shows the height and weight elements as well as the name attribute.
</p>
<pre class="prettyprint">
&lt;p:person name'John Doe' xmlns:p='http://www.domain.com/person'&gt;
    &lt;height&gt;185&lt;/height&gt;
    &lt;weight&gt;84&lt;/height&gt;
&lt;/p:person&gt;
</pre>
<p>
Having used this class schema to serialize instances of the Person class, It could later be extended or modified as follows and still read and write in a format compatible with the old class schema like so, even though the resulting XML has changed.
</p>
<pre class="prettyprint">
@Root
@Namespace(prefix="p", reference="http://www.domain.com/person")
public class Person {

  @Version(revision=1.1)
  private double version;

  @Attribute
  private String name;

  @Attribute
  private int age;

  @Element
  private int height;

  @Validate
  private void validate() {
     // provide defaults here ...
  }

  public String getName() {
     return name; 
  }
  
  public int getHeight() {
     return height;
  }

  public int getAge() {
     return age;
  }
}
</pre>
<p>
Here the version attribute is annotated with the special <a href="/download/stream/doc/javadoc/org/simpleframework/xml/Version.html">Version</a> annotation. This will read the previously generated XML and compare the version attribute of the person element and compare it to the revision attribute of the annotation. If the version annotation does not exist the initial 2.0 version is assumed. So when using the new modified class, which is revision 1.1, with the old serialized XML the serializer will determine that the two have differing versions. So when deserializing it will ignore the excess weight element and ignore the fact that the age attribute does not exist. It will do this for all attributes and elements that do not match.
</p>
<p> 
This is quite similar to the C# XML serialization version capability. Where the initial version of each class is 1.0 (implicitly) and subsequent versions increase. This tells the serializer how it should approach deserialization of different versions. The later version of the class when serialized will explicitly write the version as follows.</p>
<pre class="prettyprint">
&lt;p:person version='1.1' name'John Doe' age='60' xmlns:p='http://www.domain.com/person'&gt;
    &lt;height&gt;185&lt;/height&gt;
&lt;/p:person&gt;
</pre>

