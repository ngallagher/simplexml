<?xml version='1.0' encoding="UTF-8"?>  
<?eclipse version="3.4"?>  
<plugin>  
   <extension point="org.eclipse.ui.menus">  
      <menuContribution locationURI="popup:org.eclipse.jdt.ui.PackageExplorer">  
         <command commandId="com.rbsfm.plugin.build.publish" label="Publish Module" style="push">  
            <visibleWhen>  
               <with variable="activeMenuSelection">  
                  <iterate>  
                     <adapt type="org.eclipse.core.resources.IFile">
                     	<test property="org.eclipse.core.resources.name" value="ivy.xml"/>
                     </adapt>
                  </iterate>  
               </with>  
            </visibleWhen>  
         </command> 
         <command commandId="com.rbsfm.plugin.build.assemble" label="Assemble Project" style="push">  
            <visibleWhen>  
               <with variable="activeMenuSelection">  
                  <iterate>  
                     <adapt type="org.eclipse.core.resources.IFile">
                     	<test property="org.eclipse.core.resources.path" value="/cpbuild/projects/*.xml"/>
                     </adapt>
                  </iterate>  
               </with>  
            </visibleWhen>  
         </command> 
         <command commandId="com.rbsfm.plugin.build.patch" label="Build Patch" style="push">  
            <visibleWhen>  
               <with variable="activeMenuSelection">  
                  <iterate>  
                     <adapt type="org.eclipse.core.resources.IFile">
                        <test property="org.eclipse.core.resources.path" value="*.jardesc"/>
                     </adapt>
                  </iterate>  
               </with>  
            </visibleWhen>  
         </command>          
      </menuContribution>  
   </extension>  
   <extension point="org.eclipse.ui.commands">  
      <command id="com.rbsfm.plugin.build.publish" name="Publish"/>   
   </extension>  
   <extension point="org.eclipse.ui.commands">  
      <command id="com.rbsfm.plugin.build.assemble" name="Assemble"/>  
   </extension>  
   <extension point="org.eclipse.ui.commands">  
      <command id="com.rbsfm.plugin.build.patch" name="Patch"/>  
   </extension>    
   <extension id="lars" name="lars" point="org.eclipse.ui.handlers">  
      <handler class="com.rbsfm.plugin.build.publish.ModulePublicationHandler" commandId="com.rbsfm.plugin.build.publish"/>  
      <handler class="com.rbsfm.plugin.build.assemble.ProjectAssemblyHandler" commandId="com.rbsfm.plugin.build.assemble"/>  
      <handler class="com.rbsfm.plugin.build.patch.PatchBuilderHandler" commandId="com.rbsfm.plugin.build.patch"/>       
   </extension>  
</plugin>  
